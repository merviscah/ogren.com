<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alışveriş Sepetim - OGR</title>
    <link rel="stylesheet" href="reboot.css">
    <link rel="stylesheet" href="navbar.css">
    <link rel="stylesheet" href="basket.css">
    <link rel="stylesheet" href="footer.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

</head>

<body>
    <div class="basket-container">
        <div class="navbar">
            <div class="logo">
                <a class="navbar-logo" href="ogren.html">
                    <img src="photos/mordeg╠åil.png" alt="ogr" width="auto" height="90">
                </a>
            </div>
            <ul class="nav-menu">
                <ul class="nav-list">
                    <li class="drop-item"><a href="courses.html" class="drop-link">Courses</a></li>
                    <li class="drop-item"><a href="special.html" class="drop-link">Special For You</a></li>
                    <li class="drop-item"><a href="contact.html" class="drop-link">Contact Us</a></li>
                    <li class="drop-item"><a href="basket.html" class="drop-link"><span
                                class="material-symbols-outlined">shopping_basket</span></a></li>
                </ul>
                <div id="clock"></div>
            </ul>
        </div>
        <hr>
        <div class="sepet">
            <div class="sepet-title">
                <h5 class="col-xs-12">
                    My Shopping Basket
                </h5>
            </div>
            <hr align="center" width="60%" style="margin: auto;">
            <div id="basketItems" class="sepet-cont"></div>

            <div class="confirm d-flex justify-content-center" id="confirmButton">
                <a href="#popup"><button>
                        Confirm and Continue
                    </button></a>
                <br><br><br>
            </div>
            <div class="popup" id="popup">
                <div class="popup-content">
                    <div class="div d-flex justify-content-around">
                        <form style="width: 100%;">
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="inputEmail4">Name</label>
                                    <input type="email" class="form-control" id="inputEmail4" placeholder="Email">
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="inputPassword4">Surname</label>
                                    <input type="password" class="form-control" id="inputPassword4"
                                        placeholder="Password">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inputAddress2">Number</label>
                                <input type="text" class="form-control" id="inputAddress2">
                            </div>
                            <div class="form-group">
                                <label for="inputAddress">Address</label>
                                <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St">
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="inputCity">City</label>
                                    <input type="text" class="form-control" id="inputCity">
                                </div>
                                <div class="form-group col-md-4">
                                    <label for="inputState">State</label>
                                    <select id="inputState" class="form-control">
                                        <option selected>Choose...</option>
                                        <option>Sakarya</option>
                                        <option>İstanbul</option>
                                        <option>Bursa</option>
                                        <option>Kocaeli
                                        <option>
                                    </select>
                                </div>
                            </div>
                        </form>
                        <span class="close p-2" id="closePopup">&times;</span>
                    </div>
                    <a href="success.html" class="successful btn-light mt-3" style=" color: black;
                    border:#DEE2E6;"><button type="submit">Submit</button></a>
                </div>
            </div>

        </div>
    </div>
    <br><br>
    <footer>
        <div class="footer">
            <a class="footer-logo" href="ogren.html">
                <img src="photos/footer-logo-removebg-preview.png" alt="ogr" width="auto">
            </a>
            <div class="footer-text">
                <li class="drop-item"><a href="courses.html" class="drop-link">Courses</a></li>
                <li class="drop-item"><a href="special.html" class="drop-link">Special For You</a></li>
                <li class="drop-item"><a href="contact.html" class="drop-link">Contact Us</a></li>
            </div>
            <div class="footer-social">
                <h5>Social Media</h5>
                <div class="social-link">
                    <a href="">
                        <img width="32" height="32" src="https://img.icons8.com/windows/32/instagram-new.png"
                            alt="instagram-new" />
                    </a>
                    <a href="">
                        <img width="32" height="32" src="https://img.icons8.com/windows/32/twitter.png" alt="twitter" />
                    </a>
                    <a href="">
                        <img width="32" height="32" src="https://img.icons8.com/windows/32/facebook-new.png"
                            alt="facebook-new" />
                    </a>
                </div>
            </div>
        </div>
    </footer>
</body>
<script>
    function updateClock() {
        var now = new Date();
        var hours = now.getHours();
        var minutes = now.getMinutes();
        var seconds = now.getSeconds();

        // Saat, dakika ve saniyeyi iki haneli sayıya çevirme
        hours = hours < 10 ? "0" + hours : hours;
        minutes = minutes < 10 ? "0" + minutes : minutes;
        seconds = seconds < 10 ? "0" + seconds : seconds;

        // Saati güncelle
        document.getElementById('clock').textContent = hours + ":" + minutes + ":" + seconds;
    }

    // İlk çağrı
    updateClock();

    // 1 saniyede bir güncelle
    setInterval(updateClock, 1000);

    // Sayfa yüklendiğinde sepet öğelerini göster
    document.addEventListener('DOMContentLoaded', function () {
        displayBasketItems();
        addEventListeners();

        // Popup'ı kapalı tut
        document.getElementById('popup').style.display = 'none';
    });

    function displayBasketItems() {
        let basketItemsContainer = document.getElementById('basketItems');
        let basket = JSON.parse(localStorage.getItem('basket')) || [];

        // Temizleme
        basketItemsContainer.innerHTML = "";

        basket.forEach(item => {
            let itemDiv = document.createElement('div');
            itemDiv.className = 'col sepet-box';
            itemDiv.innerHTML = `
                    <div class=" col-md-6 col-xs-12 p-4">
                        <img src="${item.img}" alt="">
                    </div>
                    <div class="col-md-4 col-xs-12">
                        <div class="icerik">
                            <div class="sepet-text">
                                <h5>${item.title}</h5>
                                <hr style="width: 90%;">
                                <div class="price-delete d-flex">
                                    <h5>₺${item.price}</h5>
                                    <div class="cold-flex" style="flex: none; ">
                                        <div class="sil">
                                            <button class="delete-item" data-course-name="${item.title}">
                                                <span class="material-symbols-outlined">
                                                    delete
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br><br>
                `;

            basketItemsContainer.appendChild(itemDiv);
        });
    }

    function addEventListeners() {
        // Delete item buttons
        document.querySelectorAll('.delete-item').forEach(deleteButton => {
            deleteButton.addEventListener('click', function (event) {
                event.preventDefault();
                let itemTitle = this.dataset.courseName;
                deleteItem(itemTitle);
            });
        });

        // Confirm button
        document.getElementById('confirmButton').addEventListener('click', function () {
            document.getElementById('popup').style.display = 'block';
        });

        // Close popup button
        document.getElementById('closePopup').addEventListener('click', function () {
            document.getElementById('popup').style.display = 'none';
        });
    }

    function deleteItem(itemTitle) {
        let basket = JSON.parse(localStorage.getItem('basket')) || [];
        let index = basket.findIndex(item => item.title === itemTitle);

        if (index !== -1) {
            basket.splice(index, 1);
            localStorage.setItem('basket', JSON.stringify(basket));
            displayBasketItems();
        }
    }
</script>


</html>